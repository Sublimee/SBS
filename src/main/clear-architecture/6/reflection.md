Решение предыдущей задачи, как мне кажется, уже укладывается в рамки stateless. Изначально странно было уходить от функционального подхода, добавляя промежуточный слой с состоянием.
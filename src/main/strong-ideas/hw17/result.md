# Пример 1 

![Безымянный-2023-11-30-0835](https://github.com/Sublimee/SBS/assets/13710048/23736e84-6c6e-4885-a71d-146e2b48d2e6)

![image](https://github.com/Sublimee/SBS/assets/13710048/0975ff55-c108-41d4-b2f9-04ce1eaebc8f)

Разработчик, который дорабатывает функциональность совершает фатальную ошибку: он внедряет новую логику формирования мотивационного блока в логику формирования секции повышенного кэшбэка. Появляется то самое неприятное второе условие в блоке if. Кроме того, можно заметить, что предварительные вычисления в этом флоу становятся не нужны при формировании независимого мотивационного блока.

Вместо этого шагом ранее (в методе по стеку выше) следует выбирать, по какому пути формирования всей секции мы пойдем и не трогать старую логику. Таким образом мы получим независимые обработчики под каждый из кейсов, которые можно будет править/подключать/удалять независимо.

# Пример 2

Наши сервисы работают для различных потребителей: нативные приложения, webview, десктопные и мобильные версии сайта. Кроме того внутри каждой из этих платформ почти всегда есть разветвление логики по ОС. Не вникая в детали мы можем говорить о декартовом произведении существующих вариантов ответов (под каждое сочетание платфома-ОС).

Сейчас формирование ответа представляет собой единый флоу, по которому мы идем, наполняя овтет сервса в зависимости от платформы и ОС. Что надо было сделать на этапе проектирования сервиса? Выделить общие реализации в абстрактный класс, а в конкретных реализациях под определенные платфома-ОС определять поведение абстрактных методов. Таким образом ответ под каждую связку платфома-ОС можно было бы рассматривать независимо от других связок в рамках отдельного модуля, что упростило бы тестирование и сопровождение кодовой базы.

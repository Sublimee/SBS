**Пример "Получение информации о повышенном кэшбэке для отображения на UI"** (ProgramService.kt)

**Логический дизайн**

1. Проверка доступности пользователю повышенного кэшбэка. Если при проверке возникла ошибка, то требуется ответить пользователю сообщением о невозможности получения информации о повышенном кэшбэке. Если пользователю недоступен повышенный кэшбэк, то требуется, ответить пользователю сообщением о недоступности ему повышенного кэшбэка.

2. Формирование заголовка блока с информацией о повышенном кэшбэке.

3. Формирование блока с программами повышенного кэшбэка, который включает:
   1) получение доступных пользователю программ повышенного кэшбэка
   2) получение доступных периодов для программ повышенного кэшбэка
   3) формирование информации о программах, доступных пользователю, на основе доступных периодов и программ

4. Формирование мотивационного блока.

5. Формирование ответа пользователю, который включает заголовок, блок с программами повышенного кэшбэка и мотивационный блок.
   
6. Если при формировании ответа пользователю возникла ошибка, то требуется ответить пользователю сообщением о невозможности получения информации о повышенном кэшбэке.


**Соответствие кода логическому дизайну**

В целом код соответствует логическому дизайну, однако есть возможность добавить больше декларативности в процесс получения виджетов от конкретной имплементации интерфейса WidgetService. В новой версии нет необходимости вручную прописывать сопоставление со списком программ повышенного кэшбэка: будем искать среди всех реализаций интерфейса WidgetService ту, которая умеет работать с переданной программой (определяем по совпадению идентификаторов).

**Затраченное время**

4 часа